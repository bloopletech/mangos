<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-list/core-list.html">

<polymer-element name="manga-list" attributes="data">
  <template>
    <link rel="stylesheet" href="manga-list.css">
    <core-list id="list" height="312" width="199" grid extraItems="50">
      <template>
        <div class="manga-item">
          <a href="#show/{{model.key}}!1">
            <img src="{{model.thumbnailUrl}}">
          </a>
          <div class="info-wrapper">
            <div class="info">
              <div class="title">{{model.title}}</div>
              <img src="../img/icons/page_white.png" title="Pages"> {{model.pageUrls.length}}
            </div>
          </div>
        </div>
      </template>
    </core-list>
  </template>
  <script>
    Polymer('manga-list', {
      //this is a workaround till https://github.com/Polymer/core-list/issues/26 is fixed.
      updateData: function(newData) {
        this.$.list.data = newData;
        this.$.list.refresh(true);
      }
    });
  </script>
</polymer-element>